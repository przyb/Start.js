(function(e){var b=String.prototype.trim;var c=function(j){return j*1||0};var a=function(k,j){for(var l=[];j>0;l[--j]=k){}return l.join("")};var g=function(j){return Array.prototype.slice.call(j)};var f=function(j){if(j){return h.escapeRegExp(j)}return"\\s"};var i=function(j){return function(){var k=g(arguments);for(var l=0;l<k.length;l++){k[l]=k[l]==null?"":""+k[l]}return j.apply(null,k)}};var d=(function(){function j(m){return Object.prototype.toString.call(m).slice(8,-1).toLowerCase()}var k=a;var l=function(){if(!l.cache.hasOwnProperty(arguments[0])){l.cache[arguments[0]]=l.parse(arguments[0])}return l.format.call(null,l.cache[arguments[0]],arguments)};l.format=function(t,s){var x=1,v=t.length,p="",y,m=[],q,o,r,n,u,w;for(q=0;q<v;q++){p=j(t[q]);if(p==="string"){m.push(t[q])}else{if(p==="array"){r=t[q];if(r[2]){y=s[x];for(o=0;o<r[2].length;o++){if(!y.hasOwnProperty(r[2][o])){throw (d('[_.sprintf] property "%s" does not exist',r[2][o]))}y=y[r[2][o]]}}else{if(r[1]){y=s[r[1]]}else{y=s[x++]}}if(/[^s]/.test(r[8])&&(j(y)!="number")){throw (d("[_.sprintf] expecting number but found %s",j(y)))}switch(r[8]){case"b":y=y.toString(2);break;case"c":y=String.fromCharCode(y);break;case"d":y=parseInt(y,10);break;case"e":y=r[7]?y.toExponential(r[7]):y.toExponential();break;case"f":y=r[7]?parseFloat(y).toFixed(r[7]):parseFloat(y);break;case"o":y=y.toString(8);break;case"s":y=((y=String(y))&&r[7]?y.substring(0,r[7]):y);break;case"u":y=Math.abs(y);break;case"x":y=y.toString(16);break;case"X":y=y.toString(16).toUpperCase();break}y=(/[def]/.test(r[8])&&r[3]&&y>=0?"+"+y:y);u=r[4]?r[4]=="0"?"0":r[4].charAt(1):" ";w=r[6]-String(y).length;n=r[6]?k(u,w):"";m.push(r[5]?y+n:n+y)}}}return m.join("")};l.cache={};l.parse=function(m){var p=m,q=[],s=[],r=0;while(p){if((q=/^[^\x25]+/.exec(p))!==null){s.push(q[0])}else{if((q=/^\x25{2}/.exec(p))!==null){s.push("%")}else{if((q=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(p))!==null){if(q[2]){r|=1;var t=[],o=q[2],n=[];if((n=/^([a-z_][a-z_\d]*)/i.exec(o))!==null){t.push(n[1]);while((o=o.substring(n[0].length))!==""){if((n=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null){t.push(n[1])}else{if((n=/^\[(\d+)\]/.exec(o))!==null){t.push(n[1])}else{throw ("[_.sprintf] huh?")}}}}else{throw ("[_.sprintf] huh?")}q[2]=t}else{r|=2}if(r===3){throw ("[_.sprintf] mixing positional and named placeholders is not (yet) supported")}s.push(q)}else{throw ("[_.sprintf] huh?")}}}p=p.substring(q[0].length)}return s};return l})();var h={VERSION:"2.0.0",isBlank:i(function(j){return(/^\s*$/).test(j)}),stripTags:i(function(j){return j.replace(/<\/?[^>]+>/ig,"")}),capitalize:i(function(j){return j.charAt(0).toUpperCase()+j.substring(1).toLowerCase()}),chop:i(function(m,l){l=c(l)||m.length;var j=[];for(var k=0;k<m.length;){j.push(m.slice(k,k+l));k=k+l}return j}),clean:i(function(j){return h.strip(j.replace(/\s+/g," "))}),count:i(function(n,m){var l=0,j;for(var k=0;k<n.length;){j=n.indexOf(m,k);j>=0&&l++;k=k+(j>=0?j:0)+m.length}return l}),chars:i(function(j){return j.split("")}),escapeHTML:i(function(j){return j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}),unescapeHTML:i(function(j){return j.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&apos;/g,"'").replace(/&amp;/g,"&")}),escapeRegExp:i(function(j){return j.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")}),insert:i(function(m,k,l){var j=m.split("");j.splice(c(k),0,l);return j.join("")}),include:i(function(k,j){return k.indexOf(j)!==-1}),join:i(function(k){var j=g(arguments);return j.join(j.shift())}),lines:i(function(j){return j.split("\n")}),reverse:i(function(j){return Array.prototype.reverse.apply(String(j).split("")).join("")}),splice:i(function(n,k,m,l){var j=n.split("");j.splice(c(k),c(m),l);return j.join("")}),startsWith:i(function(k,j){return k.length>=j.length&&k.substring(0,j.length)===j}),endsWith:i(function(k,j){return k.length>=j.length&&k.substring(k.length-j.length)===j}),succ:i(function(k){var j=k.split("");j.splice(k.length-1,1,String.fromCharCode(k.charCodeAt(k.length-1)+1));return j.join("")}),titleize:i(function(m){var j=m.split(" "),l;for(var k=0;k<j.length;k++){l=j[k].split("");if(typeof l[0]!=="undefined"){l[0]=l[0].toUpperCase()}k+1===j.length?j[k]=l.join(""):j[k]=l.join("")+" "}return j.join("")}),camelize:i(function(j){return h.trim(j).replace(/(\-|_|\s)+(.)?/g,function(k,m,l){return l?l.toUpperCase():""})}),underscored:function(j){return h.trim(j).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/\-|\s+/g,"_").toLowerCase()},dasherize:function(j){return h.trim(j).replace(/([a-z\d])([A-Z]+)/g,"$1-$2").replace(/^([A-Z]+)/,"-$1").replace(/\_|\s+/g,"-").toLowerCase()},humanize:function(j){return h.capitalize(this.underscored(j).replace(/_id$/,"").replace(/_/g," "))},trim:i(function(k,j){if(!j&&b){return b.call(k)}j=f(j);return k.replace(new RegExp("^["+j+"]+|["+j+"]+$","g"),"")}),ltrim:i(function(k,j){j=f(j);return k.replace(new RegExp("^["+j+"]+","g"),"")
}),rtrim:i(function(k,j){j=f(j);return k.replace(new RegExp("["+j+"]+$","g"),"")}),truncate:i(function(l,k,j){j=j||"...";k=c(k);return l.length>k?l.slice(0,k)+j:l}),prune:i(function(o,m,p){var n=function(q){return((q.toUpperCase()!=q.toLowerCase())||/[-_\d]/.test(q))};var l="";var k="";var j=0;p=p||"...";m=c(m);for(j in o){l+=(n(o[j]))?"A":" "}if(l.substring(m-1,m+1).search(/^\w\w$/)===0){k=h.rtrim(l.slice(0,m).replace(/([\W][\w]*)$/,""))}else{k=h.rtrim(l.slice(0,m))}k=k.replace(/\W+$/,"");return(k.length+p.length>o.length)?o:o.substring(0,k.length)+p}),words:function(k,j){return String(k).split(j||" ")},pad:i(function(o,l,j,k){var n="",m=0;l=c(l);if(!j){j=" "}else{if(j.length>1){j=j.charAt(0)}}switch(k){case"right":m=(l-o.length);n=a(j,m);o=o+n;break;case"both":m=(l-o.length);n={left:a(j,Math.ceil(m/2)),right:a(j,Math.floor(m/2))};o=n.left+o+n.right;break;default:m=(l-o.length);n=a(j,m);o=n+o}return o}),lpad:function(l,k,j){return h.pad(l,k,j)},rpad:function(l,k,j){return h.pad(l,k,j,"right")},lrpad:function(l,k,j){return h.pad(l,k,j,"both")},sprintf:d,vsprintf:function(k,j){j.unshift(k);return d.apply(null,j)},toNumber:function(l,j){var k=c(c(l).toFixed(c(j)));return(!(k===0&&(l!=="0"&&l!==0)))?k:Number.NaN},strRight:i(function(l,j){var k=(!j)?-1:l.indexOf(j);return(k!=-1)?l.slice(k+j.length,l.length):l}),strRightBack:i(function(l,j){var k=(!j)?-1:l.lastIndexOf(j);return(k!=-1)?l.slice(k+j.length,l.length):l}),strLeft:i(function(l,j){var k=(!j)?-1:l.indexOf(j);return(k!=-1)?l.slice(0,k):l}),strLeftBack:i(function(l,j){var k=l.lastIndexOf(j);return(k!=-1)?l.slice(0,k):l}),exports:function(){var j={};for(var k in this){if(!this.hasOwnProperty(k)||k=="include"||k=="contains"||k=="reverse"){continue}j[k]=this[k]}return j}};h.strip=h.trim;h.lstrip=h.ltrim;h.rstrip=h.rtrim;h.center=h.lrpad;h.ljust=h.lpad;h.rjust=h.rpad;h.contains=h.include;if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){module.exports=h}exports._s=h}else{if(typeof e._!=="undefined"){e._.string=h;e._.str=e._.string}else{e._={string:h,str:h}}}}(this||window));